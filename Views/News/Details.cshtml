@model assogw.Models.NewsDetailsViewModel

@{
    ViewData["Title"] = Model.Article.Title;
    var articleUrl = $"https://www.assogw.com.br/News/Details/{Model.Article.Id}"; // Placeholder URL
}

@section Header {
    <!-- SEO and Social Media Meta Tags -->
    <meta name="description" content="@Model.Article.Excerpt" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article" />
    <meta property="og:url" content="@articleUrl" />
    <meta property="og:title" content="@Model.Article.Title" />
    <meta property="og:description" content="@Model.Article.Excerpt" />
    <meta property="og:image" content="@Model.Article.ImageUrl" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="@articleUrl" />
    <meta property="twitter:title" content="@Model.Article.Title" />
    <meta property="twitter:description" content="@Model.Article.Excerpt" />
    <meta property="twitter:image" content="@Model.Article.ImageUrl" />
}

<div class="container mt-5 pt-5">
    <div class="row">
        <!-- Main Article Content -->
        <div class="col-lg-8">
            <article>
                <header>
                    <h1 class="mb-3" style="color: var(--primary-dark-blue); font-weight: 800;">@Model.Article.Title</h1>
                    <div class="d-flex align-items-center text-muted mb-4">
                        <address class="mb-0 me-3">
                            Por: <a href="#" rel="author" class="fw-bold">@Model.Article.Author</a>
                        </address>
                        <time datetime="@Model.Article.PublishDate.ToString("yyyy-MM-dd")">
                            @Model.Article.PublishDate.ToString("dd 'de' MMMM 'de' yyyy")
                        </time>
                    </div>
                </header>
                
                <img src="@Model.Article.ImageUrl" class="img-fluid rounded-3 mb-4" alt="@Model.Article.Title">

                <div class="article-content">
                    <p class="lead">
                        @Model.Article.Excerpt
                    </p>
                    <p>
                        A inovação contínua é um dos pilares da GWM, e o novo lançamento Híbrido é a prova viva desse compromisso. 
                        Com uma combinação de motor elétrico e a combustão, o veículo oferece uma experiência de condução 
                        silenciosa e eficiente, sem comprometer a potência e o desempenho que os clientes esperam.
                    </p>
                    <p>
                        A tecnologia embarcada inclui um sistema de infotainment de última geração, assistentes de condução 
                        avançados e um acabamento interno que rivaliza com marcas de luxo consolidadas. A ASSOGW, 
                        representando a rede de concessionários, está otimista de que este modelo será um marco nas vendas 
                        e na percepção da marca no Brasil.
                    </p>
                </div>

                <!-- Share Buttons -->
                <div class="share-buttons mt-5 pt-4 border-top">
                    <h5 class="mb-3">Compartilhe</h5>
                    <a href="https://wa.me/?text=@(Uri.EscapeDataString(Model.Article.Title + " " + articleUrl))" class="btn-share whatsapp" target="_blank"><i class="fab fa-whatsapp"></i></a>
                    <a href="https://www.linkedin.com/shareArticle?mini=true&url=@articleUrl&title=@(Uri.EscapeDataString(Model.Article.Title))" class="btn-share linkedin" target="_blank"><i class="fab fa-linkedin-in"></i></a>
                    <a href="https://www.facebook.com/sharer/sharer.php?u=@articleUrl" class="btn-share facebook" target="_blank"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://twitter.com/intent/tweet?url=@articleUrl&text=@(Uri.EscapeDataString(Model.Article.Title))" class="btn-share twitter" target="_blank"><i class="fab fa-twitter"></i></a>
                </div>
            </article>
        </div>

        <!-- Sidebar -->
        <div class="col-lg-4">
            <div class="sidebar-sticky">
                <h4 class="mb-4" style="color: var(--primary-dark-blue);">Notícias Recentes</h4>
                @foreach (var recent in Model.RecentNews)
                {
                    <div class="sidebar-news d-flex mb-3">
                        <img src="@recent.ImageUrl" alt="@recent.Title" class="me-3">
                        <div>
                            <a asp-action="Details" asp-route-id="@recent.Id" class="stretched-link">@recent.Title</a>
                            <small class="text-muted d-block">@recent.PublishDate.ToString("dd MMM, yyyy")</small>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>
